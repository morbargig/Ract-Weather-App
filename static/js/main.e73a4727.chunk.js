(window["webpackJsonpweather-app"]=window["webpackJsonpweather-app"]||[]).push([[0],{41:function(e,t,a){e.exports=a(77)},46:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var r,n,i,c,s,o=a(0),l=a.n(o),u=a(21),m=a.n(u),v=(a(46),a(2)),p=a.n(v),h=a(7),d=a(8),f=a(12),y=a(11),g=a(13),b=(a(48),a(18)),F=a(16),E=a(4),O=(a(49),function(e){var t=e.darkMode;return l.a.createElement("div",{className:"mynavbar"},l.a.createElement(b.b,{to:"/"},l.a.createElement("div",{className:"navbarOptions"},"Home")),l.a.createElement(b.b,{to:"/Favorites"},l.a.createElement("div",{className:"navbarOptions"},"Favorites")),l.a.createElement("div",{onClick:t,className:"navbarOptions"},l.a.createElement("i",{style:{cursor:"pointer",color:"#007bff"},className:"fas fa-adjust"})))}),w=a(9),S=a.n(w),N=function(){var e=(new Date).getHours();return e%3===0?"pkNV1vKuwkcCw3ZDASBGyOH9Au1WFMbu":e%3===1?"mmcKE4Fm52FJgC7xpSPh15ygPzWqAoQ9":"sRf6W9AUW0u6DFJQ2zVkLhQb3g78OHaS"}(),C=Object(E.b)("FavoritesStore")(r=Object(E.c)(r=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(y.a)(t).call(this,e))).componentDidMount=function(){a.isFavorite()},a.isFavorite=function(){var e=a.props.FavoritesStore.isFavorites(a.props.cityKey),t=a.props.cityKey;a.setState({isFavorite:e,cityKey:t})},a.addToFavorites=function(e,t){a.props.FavoritesStore.addFavorite({cityKey:e,cityName:t}),a.setState({isFavorite:!0})},a.removeFromFavorites=function(e){return p.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.props.FavoritesStore.rmoveFavorites(e),a.setState({isFavorite:!1});case 2:case"end":return t.stop()}}))},a.state={},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.cityKey,r=t.cityName,n=t.countryName;return this.state.cityKey!==a&&this.isFavorite(),l.a.createElement("div",{className:"tableHeaders"},l.a.createElement("div",{className:"locationName"}," ",r," , ",n),this.state.isFavorite?l.a.createElement("button",{className:"delete",onClick:function(){return e.removeFromFavorites(a)}},l.a.createElement("i",{class:"fa fa-trash"})," "):l.a.createElement("button",{className:"favorite",onClick:function(){return e.addToFavorites(a,r)}}," ",l.a.createElement("i",{class:"fa fa-bookmark"})," "))}}]),t}(o.Component))||r)||r,j=a(25),k=a.n(j),D=(a(71),Object(E.b)("FavoritesStore")(n=Object(E.c)(n=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(y.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.data.Key;a.getForecastData(e)},a.getForecastData=function(e){var t;return p.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==a.state.forecastData){r.next=5;break}return r.next=3,p.a.awrap(S.a.get("https://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(e,"?apikey=").concat(N)));case 3:t=r.sent,a.setState({forecastData:t.data.DailyForecasts});case 5:case"end":return r.stop()}}))},a.state={},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"ForcastColumn container"},l.a.createElement("div",{className:"row"},this.state.forecastData?this.state.forecastData.map((function(t){return l.a.createElement("div",{className:"eachColumn col-sm"},l.a.createElement("div",{className:"fullDate"}," ",k()(t.Date).format("dddd")," - ",k()(t.Date).format("MMM Do")),l.a.createElement("div",{className:"DayAndNight"},l.a.createElement("div",{className:"dayPhrase"}," ",t.Day.IconPhrase," "),l.a.createElement("div",{className:"dayPic"},l.a.createElement("img",{src:"https://developer.accuweather.com/sites/default/files/".concat(1===t.Day.Icon.toString().length?"0"+t.Day.Icon:t.Day.Icon,"-s.png"),alt:""})," "),l.a.createElement("div",{className:"nightPhrase"}," ",t.Night.IconPhrase," "),l.a.createElement("div",{className:"nightPic"},l.a.createElement("img",{src:"https://developer.accuweather.com/sites/default/files/".concat(1===t.Night.Icon.toString().length?"0"+t.Night.Icon:t.Night.Icon,"-s.png"),alt:""})," ")),l.a.createElement("div",{className:"temperature"}," ",e.props.isFahrenheit?t.Temperature.Minimum.Value+"\xb0 / "+t.Temperature.Maximum.Value+"\xb0":Math.floor((parseInt(t.Temperature.Minimum.Value)-32)/1.8)+"\xb0 / "+Math.floor((parseInt(t.Temperature.Maximum.Value)-32)/1.8)+"\xb0"))})):null))}}]),t}(o.Component))||n)||n),x=(a(72),function(e){var t=e.city,a=e.isFahrenheit,r=t[1],n=r.WeatherText,i=r.WeatherIcon,c=r.Temperature;return l.a.createElement("div",{className:"defultCity"},l.a.createElement("div",{className:"Tname"}," ",t[0]," "),l.a.createElement("div",{className:"Tphrase"}," ",n," "),l.a.createElement("div",{className:"Ticon"},l.a.createElement("img",{src:"https://developer.accuweather.com/sites/default/files/".concat(1===i.toString().length?"0"+i:i,"-s.png"),alt:""})),a?l.a.createElement("div",{className:"Tdegrees"},c.Imperial.Value,"\xb0"):l.a.createElement("div",{className:"Tdegrees"},c.Metric.Value,"\xb0"))}),I=Object(E.b)("FavoritesStore")(i=Object(E.c)(i=function(e){function t(){var e,a;Object(h.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(f.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(n)))).state={},a.componentDidMount=function(){a.defaultWeatherCity()},a.handelChange=function(e){var t,r,n,i;return p.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(t=e.target.value,r=/^[A-Z a-z]+$/i,!t.match(r)||""===t){c.next=9;break}return c.next=5,p.a.awrap(S.a.get("https://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat(N,"&q=").concat(t)));case 5:(n=c.sent).data?(i=n.data,a.setState({value:t,listOfCities:i})):a.state({value:t}),c.next=10;break;case 9:""!==t?(alert("english letters only"),a.setState({value:t.substring(0,t.length-1)})):""===t&&a.setState({value:t});case 10:case"end":return c.stop()}}))},a.displeyCity=function(){var e;return p.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:void 0!==a.state.listOfCities?(a.props.FavoritesStore.resetSelectedCity(),e=a.state.listOfCities.find((function(e){return e.LocalizedName===a.state.value})),a.setState({selectedCity:e})):alert("no city salected");case 1:case"end":return t.stop()}}))},a.defaultWeatherCity=function(){var e;return p.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.awrap(S.a.get("https://dataservice.accuweather.com/currentconditions/v1/215854?apikey=".concat(N)));case 2:e=t.sent,a.setState({difuletCity:["Tell Aviv",e.data[0]]});case 4:case"end":return t.stop()}}))},a.handleKeyDown=function(e){13===e.keyCode&&a.displeyCity()},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e;return e=this.props.FavoritesStore.getSelectesCity?this.props.FavoritesStore.getSelectesCity[0]:this.state.selectedCity,l.a.createElement("div",null,l.a.createElement("div",{class:"input-group mb-3"},this.state.listOfCities?l.a.createElement("datalist",{name:"dataList",id:"browsers",onChange:this.todo},this.state.listOfCities.map((function(e){return l.a.createElement("option",{id:e.Key,key:e.Key,value:e.LocalizedName}," ",e.Country.LocalizedName," ")})),"   "):null,l.a.createElement("input",{onKeyDown:this.handleKeyDown,placeholder:"type for cities",type:"text",list:"browsers",name:"browser",value:this.state.value,onChange:this.handelChange,class:"form-control",style:{marginLeft:"10%"}}),l.a.createElement("div",{class:"input-group-append"},l.a.createElement("button",{class:"input-group-text",style:{marginRight:"10vw"},onClick:this.displeyCity,type:"submit"},"Search for city"))),this.state.difuletCity?l.a.createElement(x,{isFahrenheit:this.props.isFahrenheit,city:this.props.closerCity?this.props.closerCity:this.state.difuletCity}):null,e||this.props.FavoritesStore.getSelectesCity?l.a.createElement("div",null,l.a.createElement(C,{cityName:e.LocalizedName,countryName:e.Country.LocalizedName,cityKey:e.Key}),l.a.createElement(D,{data:e,isFahrenheit:this.props.isFahrenheit})):null)}}]),t}(o.Component))||i)||i,M=a(40),K=(a(73),Object(E.b)("FavoritesStore")(c=Object(E.c)(c=function(e){function t(){var e,a;Object(h.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(f.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(n)))).state={},a.componentDidMount=function(){a.checkForLocalStorage()},a.checkForLocalStorage=function(){var e=[];a.props.FavoritesStore.getAllFavorites.map((function(t){return e.push(t)})),a.setState({Favorites:e}),a.getFavoritesData(e)},a.getFavoritesData=function(e){var t,r,n,i;return p.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:t=[],r=0;case 2:if(!(r<e.length)){c.next=11;break}return n=e[r],c.next=6,p.a.awrap(S.a.get("https://dataservice.accuweather.com/currentconditions/v1/".concat(n.cityKey,"?apikey=").concat(N)));case 6:i=c.sent,t.push({cityName:n.cityName,cityKey:n.cityKey,res:i.data});case 8:r++,c.next=2;break;case 11:a.setState({FavoritesData:t});case 12:case"end":return c.stop()}}))},a.showFullForecast=function(e,t){a.props.FavoritesStore.setSelectesCity(e,t)},a.closePopUp=function(){a.setState({cityKey:null,popUp:!1})},a.removeFromFavorites=function(e,t){a.props.FavoritesStore.rmoveFavorites(e);var r=Object(M.a)(a.state.FavoritesData);r.splice(t,1),a.setState({FavoritesData:r})},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,this.state.FavoritesData?l.a.createElement("div",{className:"FavoritesContainer container"},l.a.createElement("div",{className:"row"},this.state.FavoritesData.map((function(t,a){return l.a.createElement("div",{key:t.cityKey},l.a.createElement(b.b,{to:"/"},l.a.createElement("div",{className:"FavoritesData col-sm",onClick:function(){return e.showFullForecast(t.cityKey,t.cityName)}},l.a.createElement("div",{className:"FavCity"}," ",t.cityName," "),l.a.createElement("img",{className:"FavPic",src:"https://developer.accuweather.com/sites/default/files/".concat(1===t.res[0].WeatherIcon.toString().length?"0"+t.res[0].WeatherIcon:t.res[0].WeatherIcon,"-s.png"),alt:""}),l.a.createElement("div",{className:"FavPhrase"}," ",t.res[0].WeatherText," "),l.a.createElement("div",{className:"FavTemp"},e.props.isFahrenheit?t.res[0].Temperature.Imperial.Value+"\xb0":Math.floor((parseInt(t.res[0].Temperature.Imperial.Value)-32)/1.8)+"\xb0"))),l.a.createElement("div",null,l.a.createElement("button",{className:"FavRemove",onClick:function(){return e.removeFromFavorites(t.cityKey,a)}},l.a.createElement("i",{class:"fa fa-trash"})," ")," "))})))):null)}}]),t}(o.Component))||c)||c),T=(a(74),function(e){var t=e.handleTemperture,a=e.isFahrenheit;return l.a.createElement("div",{className:"degrees"},l.a.createElement("div",{className:"temperature"},l.a.createElement("button",{className:a?null:"putAnUnderline",onClick:a?t:null},"C")," / ",l.a.createElement("button",{className:a?"putAnUnderline":null,onClick:a?null:t},"F")," "))}),A=Object(E.c)(s=function(e){function t(){var e,a;Object(h.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(f.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(n)))).state={},a.UNSAFE_componentWillMount=function(){"geolocation"in navigator&&a.watchID(),a.setLightMode()},a.setLightMode=function(){var e=(new Date).getHours();e>6&&e<16||a.setState({darkMode:!0})},a.darkMode=function(){a.setState((function(e){return{darkMode:!e.darkMode}}))},a.watchID=function(){navigator.geolocation.watchPosition(a.geo_success,a.geo_error,{enableHighAccuracy:!0,maximumAge:3e4,timeout:27e3})},a.geo_success=function(e){var t,r,n;return p.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.coords,i.next=3,p.a.awrap(S.a.get("https://dataservice.accuweather.com/locations/v1/cities/geoposition/search?apikey=".concat(N,"&q=").concat(t.latitude+","+t.longitude)));case 3:return r=i.sent,i.next=6,p.a.awrap(S.a.get("https://dataservice.accuweather.com/currentconditions/v1/".concat(r.data.Key,"?apikey=").concat(N)));case 6:n=i.sent,"Dohan"!==r.data.LocalizedName&&a.setState({currentLocation:{latitude:t.latitude,longitude:t.longitude},closerCity:[r.data.LocalizedName,n.data[0]]});case 8:case"end":return i.stop()}}))},a.geo_error=function(e){console.error("ERROR("+e.code+"): "+e.message)},a.handleTemperture=function(){a.setState((function(e){return{isFahrenheit:!e.isFahrenheit}}))},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:this.state.darkMode?"darkMode":null},l.a.createElement(b.a,null,l.a.createElement(O,{darkMode:this.darkMode}),l.a.createElement(T,{handleTemperture:this.handleTemperture,isFahrenheit:this.state.isFahrenheit}),l.a.createElement(F.a,{path:"/",exact:!0,render:function(){return l.a.createElement(I,{closerCity:e.state.closerCity,isFahrenheit:e.state.isFahrenheit})}}),l.a.createElement(F.a,{path:"/Favorites",render:function(){return l.a.createElement(K,{isFahrenheit:e.state.isFahrenheit})}})))}}]),t}(o.Component))||s;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var z,L,W,P,J,V,H,R,U=a(17),_=a(15),q=(a(75),a(1)),B=(z=function(){function e(){Object(h.a)(this,e),Object(U.a)(this,"favorites",L,this),Object(U.a)(this,"selectesCity",W,this),Object(U.a)(this,"setSelectesCity",P,this),Object(U.a)(this,"resetSelectedCity",J,this),Object(U.a)(this,"addFavorite",V,this),Object(U.a)(this,"rmoveFavorites",H,this),Object(U.a)(this,"isFavorites",R,this)}return Object(d.a)(e,[{key:"getAllFavorites",get:function(){if(localStorage.getItem("favorites")){var e=JSON.parse(localStorage.getItem("favorites"));return this.favorites=e,e}return[]}},{key:"getSelectesCity",get:function(){return this.selectesCity}}]),e}(),L=Object(_.a)(z.prototype,"favorites",[q.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=Object(_.a)(z.prototype,"selectesCity",[q.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Object(_.a)(z.prototype,"getAllFavorites",[q.e],Object.getOwnPropertyDescriptor(z.prototype,"getAllFavorites"),z.prototype),Object(_.a)(z.prototype,"getSelectesCity",[q.e],Object.getOwnPropertyDescriptor(z.prototype,"getSelectesCity"),z.prototype),P=Object(_.a)(z.prototype,"setSelectesCity",[q.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,a){var r,n;return p.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,p.a.awrap(S.a.get("https://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat(N,"&q=").concat(a)));case 2:return r=i.sent,n=r.data.filter((function(e){return e.Key===t})),e.selectesCity=n,i.abrupt("return",n);case 6:case"end":return i.stop()}}))}}}),J=Object(_.a)(z.prototype,"resetSelectedCity",[q.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.selectesCity=void 0}}}),V=Object(_.a)(z.prototype,"addFavorite",[q.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var a;return p.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e.favorites.push(t),a=localStorage.getItem("favorites")?JSON.parse(localStorage.getItem("favorites")):[],r.next=4,p.a.awrap(a.push(t));case 4:localStorage.setItem("favorites",JSON.stringify(a));case 5:case"end":return r.stop()}}))}}}),H=Object(_.a)(z.prototype,"rmoveFavorites",[q.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var a=e.favorites.filter((function(e){return e.key!==t}));e.favorites=a;for(var r=JSON.parse(localStorage.getItem("favorites")),n=0;n<r.length;n++){r[n].cityKey===t&&r.splice(n,1)}r=JSON.stringify(r),localStorage.setItem("favorites",r)}}}),R=Object(_.a)(z.prototype,"isFavorites",[q.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var a,r;if(localStorage.getItem("favorites"))for(var n=JSON.parse(localStorage.getItem("favorites")),i=0;i<n.length;i++){n[i].cityKey===t&&(a=!0,r=n,e.favorites=r)}else a=!1,a=0!==(a=e.favorites.filter((function(e){return e.key===t}))).length;return a}}}),z),Q=(a(76),{FavoritesStore:new B});m.a.render(l.a.createElement(E.a,Q,l.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[41,1,2]]]);
//# sourceMappingURL=main.e73a4727.chunk.js.map