(window["webpackJsonpweather-app"]=window["webpackJsonpweather-app"]||[]).push([[0],{41:function(e,t,a){e.exports=a(75)},46:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var r,n,o,c,i,s=a(0),l=a.n(s),u=a(20),m=a.n(u),v=(a(46),a(2)),h=a.n(v),p=a(7),d=a(8),f=a(12),y=a(11),g=a(13),b=(a(48),a(21)),F=a(16),O=a(4),E=(a(49),function(e){var t=e.darkMode;return l.a.createElement("div",{className:"mynavbar"},l.a.createElement(b.b,{to:"/"},l.a.createElement("div",{className:"navbarOptions"},"Home")),l.a.createElement(b.b,{to:"/Favorites"},l.a.createElement("div",{className:"navbarOptions"},"Favorites")),l.a.createElement("div",{onClick:t,className:"navbarOptions"},l.a.createElement("i",{className:"fas fa-adjust"})))}),S=a(9),w=a.n(S),C=(new Date).getHours()%2===0?"sRf6W9AUW0u6DFJQ2zVkLhQb3g78OHaS":"mmcKE4Fm52FJgC7xpSPh15ygPzWqAoQ9",N=Object(O.b)("FavoritesStore")(r=Object(O.c)(r=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(f.a)(this,Object(y.a)(t).call(this,e))).componentDidMount=function(){a.isFavorite()},a.isFavorite=function(){var e=a.props.FavoritesStore.isFavorites(a.props.cityKey);console.log(e);var t=a.props.cityKey;a.setState({isFavorite:e,cityKey:t})},a.addToFavorites=function(e,t){a.props.FavoritesStore.addFavorite({cityKey:e,cityName:t}),a.setState({isFavorite:!0})},a.removeFromFavorites=function(e){return h.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.props.FavoritesStore.rmoveFavorites(e),a.setState({isFavorite:!1});case 2:case"end":return t.stop()}}))},a.state={},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.cityKey,r=t.cityName,n=t.countryName;return this.state.cityKey!==a&&this.isFavorite(),l.a.createElement("div",{className:"tableHeaders"},l.a.createElement("div",{className:"locationName"}," ",r," ,",n),this.state.isFavorite?l.a.createElement("button",{className:"delete",onClick:function(){return e.removeFromFavorites(a)}},l.a.createElement("i",{class:"fa fa-trash"})," "):l.a.createElement("button",{className:"favorite",onClick:function(){return e.addToFavorites(a,r)}}," ",l.a.createElement("i",{class:"fa fa-bookmark"})," "))}}]),t}(s.Component))||r)||r,j=a(25),k=a.n(j),D=Object(O.b)("FavoritesStore")(n=Object(O.c)(n=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(f.a)(this,Object(y.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.data.Key;a.getForecastData(e)},a.getForecastData=function(e){var t;return h.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==a.state.forecastData){r.next=6;break}return r.next=3,h.a.awrap(w.a.get("https://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(e,"?apikey=").concat(C)));case 3:t=r.sent,console.log(t.data.DailyForecasts),a.setState({forecastData:t.data.DailyForecasts});case 6:case"end":return r.stop()}}))},a.state={},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{class:"ForcastColumn"},this.state.forecastData?this.state.forecastData.map((function(t){return l.a.createElement("div",{class:"eachColumn"},l.a.createElement("div",{class:"fullDate"}," ",k()(t.Date).format("dddd")," - ",k()(t.Date).format("MMM Do")),l.a.createElement("div",{class:"DayAndNight"},l.a.createElement("div",{class:"dayPhrase"}," ",t.Day.IconPhrase," "),l.a.createElement("div",{class:"dayPic"},l.a.createElement("img",{src:"https://developer.accuweather.com/sites/default/files/".concat(1===t.Day.Icon.toString().length?"0"+t.Day.Icon:t.Day.Icon,"-s.png"),alt:""})," "),l.a.createElement("div",{class:"nightPhrase"}," ",t.Night.IconPhrase," "),console.log(t.Day.Icon,typeof t.Day.Icon,t.Day.Icon.toString().length),console.log(t.Night.Icon,typeof t.Night.Icon,t.Night.Icon.toString().length),l.a.createElement("div",{class:"nightPic"},l.a.createElement("img",{src:"https://developer.accuweather.com/sites/default/files/".concat(1===t.Night.Icon.toString().length?"0"+t.Night.Icon:t.Night.Icon,"-s.png"),alt:""})," ")),console.log(t.Temperature),l.a.createElement("div",{class:"temperature"}," ",e.props.isFahrenheit?t.Temperature.Minimum.Value+"\xb0 / "+t.Temperature.Maximum.Value+"\xb0":Math.floor((parseInt(t.Temperature.Minimum.Value)-32)/1.8)+"\xb0 / "+Math.floor((parseInt(t.Temperature.Maximum.Value)-32)/1.8)+"\xb0"))})):null)}}]),t}(s.Component))||n)||n,I=(a(71),function(e){var t=e.city,a=e.isFahrenheit,r=t[1],n=r.WeatherText,o=r.WeatherIcon,c=r.Temperature;return console.log(t),l.a.createElement("div",{className:"defultCity"},l.a.createElement("div",{className:"Tname"},t[0]),l.a.createElement("div",{className:"Tphrase"}," ",n," "),l.a.createElement("div",{className:"Ticon"},l.a.createElement("img",{src:"https://developer.accuweather.com/sites/default/files/".concat(1===o.toString().length?"0"+o:o,"-s.png"),alt:""})),a?l.a.createElement("div",{className:"Tdegrees"},c.Imperial.Value,"\xb0"):l.a.createElement("div",{className:"Tdegrees"},c.Metric.Value,"\xb0"))}),x=Object(O.b)("FavoritesStore")(o=Object(O.c)(o=function(e){function t(){var e,a;Object(p.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(f.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(n)))).state={},a.componentDidMount=function(){a.defaultWeatherCity()},a.handelChange=function(e){var t,r,n,o,c,i,s,l;return h.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(t=e.target.name,r=e.target.value,n=e.target.key,o=e.target.id,c=/^[A-Z a-z]+$/i,r.match(c)?i=!0:(alert("english letters only"),i=!1),console.log(r,t,n,o,e.target.parentElement),""===r||!0!==i){u.next=16;break}return u.next=10,h.a.awrap(w.a.get("https://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat(C,"&q=").concat(r)));case 10:s=u.sent,console.log(s.data),l=s.data,a.setState({value:r,listOfCities:l}),u.next=17;break;case 16:a.setState({value:""});case 17:case"end":return u.stop()}}))},a.displeyCity=function(){var e;return h.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:void 0!==a.state.listOfCities?(a.state.FavoritesStore.resetSelectesCity(),e=a.state.listOfCities.find((function(e){return e.LocalizedName===a.state.value})),a.setState({selectedCity:e}),console.log(e)):alert("no city salected");case 1:case"end":return t.stop()}}))},a.defaultWeatherCity=function(){var e;return h.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.awrap(w.a.get("https://dataservice.accuweather.com/currentconditions/v1/215854?apikey=".concat(C)));case 2:e=t.sent,console.log(e.data),a.setState({difuletCity:["Tell Aviv",e.data[0]]});case 5:case"end":return t.stop()}}))},a.closerCity=function(){return h.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}))},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e;return console.log(this.props.closerCity),e=this.props.FavoritesStore.getSelectesCity?this.props.FavoritesStore.getSelectesCity:this.state.selectedCity,l.a.createElement("div",null,this.state.listOfCities?l.a.createElement("datalist",{name:"dataList",id:"browsers",onChange:this.todo},this.state.listOfCities.map((function(e){return l.a.createElement("option",{id:e.Key,key:e.Key,value:e.LocalizedName}," ",e.Country.LocalizedName," ")})),"   "):null,l.a.createElement("input",{type:"text",list:"browsers",name:"browser",value:this.state.value,onChange:this.handelChange,className:"col-sm-6 custom-select custom-select-sm",style:{marginLeft:"10%"}}),l.a.createElement("button",{onClick:this.displeyCity,className:"btn aqua-gradient btn-rounded btn-sm my-0",type:"submit"},"Search"),this.state.difuletCity?l.a.createElement(I,{isFahrenheit:this.props.isFahrenheit,city:this.props.closerCity?this.props.closerCity:this.state.difuletCity}):null,e?l.a.createElement("div",null,l.a.createElement(N,{cityName:e.LocalizedName,countryName:e.Country.LocalizedName,cityKey:e.Key}),l.a.createElement(D,{data:e,isFahrenheit:this.props.isFahrenheit})):null)}}]),t}(s.Component))||o)||o,M=a(40),K=Object(O.b)("FavoritesStore")(c=Object(O.c)(c=function(e){function t(){var e,a;Object(p.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(f.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(n)))).state={},a.componentDidMount=function(){a.checkForLocalStorage()},a.checkForLocalStorage=function(){var e=[];a.props.FavoritesStore.getAllFavorites.map((function(t){return e.push(t)})),a.setState({Favorites:e},(function(){console.log(this.state.Favorites)})),a.getFavoritesData(e)},a.checkForDuplicates=function(e){},a.getFavoritesData=function(e){var t,r,n,o;return h.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:t=[],r=0;case 2:if(!(r<e.length)){c.next=12;break}return console.log(e[r]),n=e[r],c.next=7,h.a.awrap(w.a.get("https://dataservice.accuweather.com/currentconditions/v1/".concat(n.cityKey,"?apikey=").concat(C)));case 7:o=c.sent,t.push({cityName:n.cityName,cityKey:n.cityKey,res:o.data});case 9:r++,c.next=2;break;case 12:console.log(t),a.setState({FavoritesData:t});case 14:case"end":return c.stop()}}))},a.showFullForecast=function(e,t){a.props.FavoritesStore.setSelectesCity(e,t)},a.closePopUp=function(){a.setState({cityKey:null,popUp:!1})},a.removeFromFavorites=function(e,t){a.props.FavoritesStore.rmoveFavorites(e);var r=Object(M.a)(a.state.FavoritesData);console.log(t),r.splice(t,1),console.log(a.state.FavoritesData),a.setState({FavoritesData:r},(function(){console.log(this.state.FavoritesData)}))},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,this.state.FavoritesData?l.a.createElement("div",{className:"FavoritesContainer"},this.state.FavoritesData.map((function(t,a){return l.a.createElement("div",{key:t.cityKey},console.log(t),l.a.createElement("div",{className:"FavoritesData",onClick:function(){return e.showFullForecast(t.cityKey,t.cityName)}},l.a.createElement("div",{className:"FavCity"}," ",t.cityName," "),l.a.createElement("img",{className:"FavPic",src:"https://developer.accuweather.com/sites/default/files/".concat(1===t.res[0].WeatherIcon.toString().length?"0"+t.res[0].WeatherIcon:t.res[0].WeatherIcon,"-s.png"),alt:""}),l.a.createElement("div",{className:"FavPhrase"}," ",t.res[0].WeatherText," "),l.a.createElement("div",{className:"FavTemp"},e.props.isFahrenheit?t.res[0].Temperature.Imperial.Value+"\xb0":Math.floor((parseInt(t.res[0].Temperature.Imperial.Value)-32)/1.8)+"\xb0")),l.a.createElement("div",null,l.a.createElement("button",{className:"FavRemove",onClick:function(){return e.removeFromFavorites(t.cityKey,a)}},l.a.createElement("i",{class:"fa fa-trash"})," ")," "))}))," "):null)}}]),t}(s.Component))||c)||c,T=(a(72),function(e){var t=e.handleTemperture,a=e.isFahrenheit;return l.a.createElement("div",{className:"degrees"},l.a.createElement("div",{className:"temperature"},l.a.createElement("button",{className:a?null:"putAnUnderline",onClick:t},"C")," / ",l.a.createElement("button",{className:a?"putAnUnderline":null,onClick:t},"F")," "))}),z=Object(O.c)(i=function(e){function t(){var e,a;Object(p.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(f.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(n)))).state={},a.UNSAFE_componentWillMount=function(){"geolocation"in navigator&&a.watchID(),a.setLightMode()},a.setLightMode=function(){var e=(new Date).getHours();e>6&&e<16||a.setState({darkMode:!0})},a.darkMode=function(){a.setState((function(e){return{darkMode:!e.darkMode}}))},a.watchID=function(){navigator.geolocation.watchPosition(a.geo_success,a.geo_error,{enableHighAccuracy:!0,maximumAge:3e4,timeout:27e3})},a.geo_success=function(e){var t,r,n;return h.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.coords,console.log(t.latitude,t.longitude),o.next=4,h.a.awrap(w.a.get("https://dataservice.accuweather.com/locations/v1/cities/geoposition/search?apikey=".concat(C,"&q=").concat(t.latitude+","+t.longitude)));case 4:return r=o.sent,o.next=7,h.a.awrap(w.a.get("http://dataservice.accuweather.com/currentconditions/v1/".concat(r.data.Key,"?apikey=").concat(C)));case 7:n=o.sent,r.data.LocalizedName,a.setState({currentLocation:{latitude:t.latitude,longitude:t.longitude},closerCity:[r.data.LocalizedName,n.data[0]]}),console.log(r.data,n.data[0]);case 11:case"end":return o.stop()}}))},a.geo_error=function(e){console.error("ERROR("+e.code+"): "+e.message)},a.handleTemperture=function(){a.setState((function(e){return{isFahrenheit:!e.isFahrenheit}}))},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:this.state.darkMode?"darkMode":null},l.a.createElement(b.a,null,l.a.createElement(E,{darkMode:this.darkMode}),l.a.createElement(T,{handleTemperture:this.handleTemperture,isFahrenheit:this.state.isFahrenheit}),l.a.createElement(F.a,{path:"/",exact:!0,render:function(){return l.a.createElement(x,{closerCity:e.state.closerCity,isFahrenheit:e.state.isFahrenheit})}}),l.a.createElement(F.a,{path:"/Favorites",render:function(){return l.a.createElement(K,{isFahrenheit:e.state.isFahrenheit})}})))}}]),t}(s.Component))||i;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var A,L,P,W,J,V,H,U,q=a(17),R=a(15),_=(a(73),a(1)),Q=(A=function(){function e(){Object(p.a)(this,e),Object(q.a)(this,"favorites",L,this),Object(q.a)(this,"selectesCity",P,this),Object(q.a)(this,"setSelectesCity",W,this),Object(q.a)(this,"resetSelectesCity",J,this),Object(q.a)(this,"addFavorite",V,this),Object(q.a)(this,"rmoveFavorites",H,this),Object(q.a)(this,"isFavorites",U,this)}return Object(d.a)(e,[{key:"getAllFavorites",get:function(){if(localStorage.getItem("favorites")){var e=JSON.parse(localStorage.getItem("favorites"));return this.favorites=e,console.log(e),e}return[]}},{key:"getSelectesCity",get:function(){return this.selectesCity}}]),e}(),L=Object(R.a)(A.prototype,"favorites",[_.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=Object(R.a)(A.prototype,"selectesCity",[_.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Object(R.a)(A.prototype,"getAllFavorites",[_.e],Object.getOwnPropertyDescriptor(A.prototype,"getAllFavorites"),A.prototype),Object(R.a)(A.prototype,"getSelectesCity",[_.e],Object.getOwnPropertyDescriptor(A.prototype,"getSelectesCity"),A.prototype),W=Object(R.a)(A.prototype,"setSelectesCity",[_.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(e,t){var a,r;return h.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.a.awrap(w.a.get("https://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat(C,"&q=").concat(t)));case 2:return a=n.sent,r=a.data.filter((function(t){return t.Key===e})),n.abrupt("return",r);case 5:case"end":return n.stop()}}))}}}),J=Object(R.a)(A.prototype,"resetSelectesCity",[_.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.selectesCity=void 0}}}),V=Object(R.a)(A.prototype,"addFavorite",[_.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var a;return h.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e.favorites.push(t),console.log(e.favorites,t),console.log(t),a=localStorage.getItem("favorites")?JSON.parse(localStorage.getItem("favorites")):[],r.next=6,h.a.awrap(a.push(t));case 6:console.log(a),localStorage.setItem("favorites",JSON.stringify(a));case 8:case"end":return r.stop()}}))}}}),H=Object(R.a)(A.prototype,"rmoveFavorites",[_.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var a=e.favorites.filter((function(e){return e.key!==t}));e.favorites=a;for(var r=JSON.parse(localStorage.getItem("favorites")),n=0;n<r.length;n++){r[n].cityKey===t&&r.splice(n,1)}r=JSON.stringify(r),localStorage.setItem("favorites",r)}}}),U=Object(R.a)(A.prototype,"isFavorites",[_.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var a,r;if(localStorage.getItem("favorites")){console.log("1");for(var n=JSON.parse(localStorage.getItem("favorites")),o=0;o<n.length;o++){console.log("2"),n[o].cityKey===t&&(console.log("3"),a=!0,r=n,e.favorites=r)}}else console.log("4"),a=!1,a=0!==(a=e.favorites.filter((function(e){return e.key===t}))).length;return a}}}),A),B=(a(74),{FavoritesStore:new Q});m.a.render(l.a.createElement(O.a,B,l.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[41,1,2]]]);
//# sourceMappingURL=main.7e1e5c56.chunk.js.map