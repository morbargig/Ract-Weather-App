(window["webpackJsonpweather-app"]=window["webpackJsonpweather-app"]||[]).push([[0],{41:function(e,t,a){e.exports=a(74)},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},71:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var r,n,o=a(0),i=a.n(o),c=a(19),s=a.n(c),l=(a(46),a(7)),u=a(8),m=a(11),v=a(10),h=a(12),p=(a(47),a(20)),d=a(14),f=a(5),g=(a(48),function(e){var t=e.darkMode;return i.a.createElement("div",{className:"mynavbar"},i.a.createElement(p.b,{to:"/"},i.a.createElement("div",{className:"navbarOptions"},"Home")),i.a.createElement(p.b,{to:"/Favorites"},i.a.createElement("div",{className:"navbarOptions"},"Favorites")),i.a.createElement("div",{onClick:t,className:"navbarOptions"},i.a.createElement("i",{className:"fas fa-adjust"})))}),y=a(3),b=a.n(y),F=a(16),E=a.n(F),O=(new Date).getHours()%2!==0?"sRf6W9AUW0u6DFJQ2zVkLhQb3g78OHaS":"mmcKE4Fm52FJgC7xpSPh15ygPzWqAoQ9",S=Object(f.b)("FavoritesStore")(r=Object(f.c)(r=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(v.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.FavoritesStore.isFavorites(a.props.cityKey);a.setState({isFavorite:e})},a.addToFavorites=function(e,t){a.props.FavoritesStore.addFavorite({cityKey:e,cityName:t}),a.setState({isFavorite:!0})},a.removeFromFavorites=function(e){return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.props.FavoritesStore.rmoveFavorites(e),a.setState({isFavorite:!1});case 2:case"end":return t.stop()}}))},a.state={isFavorite:!1},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.cityName,a=this.props.cityKey;return i.a.createElement("div",{className:"tableHeaders"},i.a.createElement("div",{className:"locationName"}," ",t," ,",this.props.countryName),this.state.isFavorite?i.a.createElement("button",{className:"delete",onClick:function(){return e.removeFromFavorites(a)}},i.a.createElement("i",{class:"fa fa-trash"})," "):i.a.createElement("button",{className:"favorite",onClick:function(){return e.addToFavorites(a,t)}}," ",i.a.createElement("i",{class:"fa fa-bookmark"})," "))}}]),t}(o.Component))||r)||r,w=a(25),N=a.n(w),k=Object(f.b)("FavoritesStore")(n=Object(f.c)(n=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(v.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.data.Key;a.getForecastData(e)},a.getForecastData=function(e){var t;return b.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==a.state.forecastData){r.next=6;break}return r.next=3,b.a.awrap(E.a.get("http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(e,"?apikey=").concat(O)));case 3:t=r.sent,console.log(t.data.DailyForecasts),a.setState({forecastData:t.data.DailyForecasts});case 6:case"end":return r.stop()}}))},a.state={},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{class:"ForcastColumn"},this.state.forecastData?this.state.forecastData.map((function(t){return i.a.createElement("div",{class:"eachColumn"},i.a.createElement("div",{class:"fullDate"}," ",N()(t.Date).format("dddd")," - ",N()(t.Date).format("MMM Do")),i.a.createElement("div",{class:"DayAndNight"},i.a.createElement("div",{class:"dayPhrase"}," ",t.Day.IconPhrase," "),i.a.createElement("div",{class:"dayPic"},i.a.createElement("img",{src:"https://developer.accuweather.com/sites/default/files/".concat(1===t.Day.Icon.toString().length?"0"+t.Day.Icon:t.Day.Icon,"-s.png"),alt:""})," "),i.a.createElement("div",{class:"nightPhrase"}," ",t.Night.IconPhrase," "),console.log(t.Day.Icon,typeof t.Day.Icon,t.Day.Icon.toString().length),console.log(t.Night.Icon,typeof t.Night.Icon,t.Night.Icon.toString().length),i.a.createElement("div",{class:"nightPic"},i.a.createElement("img",{src:"https://developer.accuweather.com/sites/default/files/".concat(1===t.Night.Icon.toString().length?"0"+t.Night.Icon:t.Night.Icon,"-s.png"),alt:""})," ")),i.a.createElement("div",{class:"temperature"}," ",e.props.isFahrenheit?t.Temperature.Minimum.Value/t.Temperature.Maximum.Value:Math.floor((parseInt(t.Temperature.Minimum.Value)-32)/1.8)," / ",Math.floor((parseInt(t.Temperature.Maximum.Value)-32)/1.8)))})):null)}}]),t}(o.Component))||n)||n;console.log(O);var j,C,D=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(n)))).state={},a.handelChange=function(e){var t,r,n,o,i,c,s,l;return b.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(t=e.target.name,r=e.target.value,n=e.target.key,o=e.target.id,i=/^[A-Z a-z]+$/i,r.match(i)?c=!0:(alert("english letters only"),c=!1),console.log(r,t,n,o,e.target.parentElement),""===r||!0!==c){u.next=16;break}return u.next=10,b.a.awrap(E.a.get("https://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat(O,"&q=").concat(r)));case 10:s=u.sent,console.log(s.data),l=s.data,a.setState({value:r,listOfCities:l}),u.next=17;break;case 16:a.setState({value:""});case 17:case"end":return u.stop()}}))},a.displeyCity=function(){var e;return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e=a.state.listOfCities.find((function(e){return e.LocalizedName===a.state.value})),a.setState({selectedCity:e}),console.log(e);case 3:case"end":return t.stop()}}))},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,this.state.listOfCities?i.a.createElement("datalist",{name:"dataList",id:"browsers",onChange:this.todo},this.state.listOfCities.map((function(e){return i.a.createElement("option",{id:e.Key,key:e.Key,value:e.LocalizedName}," ",e.Country.LocalizedName," ")})),"   "):null,i.a.createElement("input",{type:"text",list:"browsers",name:"browser",value:this.state.value,onChange:this.handelChange,className:"col-sm-6 custom-select custom-select-sm",style:{marginLeft:"10%"}}),i.a.createElement("button",{onClick:this.displeyCity,className:"btn aqua-gradient btn-rounded btn-sm my-0",type:"submit"},"Search"),this.state.selectedCity?i.a.createElement("div",null,i.a.createElement(S,{cityName:this.state.selectedCity.LocalizedName,countryName:this.state.selectedCity.Country.LocalizedName,cityKey:this.state.selectedCity.Key}),i.a.createElement(k,{data:this.state.selectedCity,isFahrenheit:this.props.isFahrenheit})):null)}}]),t}(o.Component),I=a(40),x=a(1),M=Object(f.b)("FavoritesStore")(j=Object(f.c)(j=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(n)))).state={},a.componentDidMount=function(){a.checkForLocalStorage()},a.checkForLocalStorage=function(){var e=[];a.props.FavoritesStore.getAllFavorites.map((function(t){return e.push(t)})),a.setState({Favorites:e},(function(){console.log(this.state.Favorites)})),a.getFavoritesData(e)},a.checkForDuplicates=function(e){},a.getFavoritesData=function(e){var t,r,n,o,i,c,s,l;return b.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:t=[],r=!0,n=!1,o=void 0,u.prev=4,i=e[Symbol.iterator]();case 6:if(r=(c=i.next()).done){u.next=15;break}return s=c.value,u.next=10,b.a.awrap(E.a.get("http://dataservice.accuweather.com/currentconditions/v1/".concat(s.cityKey,"?apikey=").concat(O)));case 10:l=u.sent,t.push({cityName:s.cityName,cityKey:s.cityKey,res:l.data});case 12:r=!0,u.next=6;break;case 15:u.next=21;break;case 17:u.prev=17,u.t0=u.catch(4),n=!0,o=u.t0;case 21:u.prev=21,u.prev=22,r||null==i.return||i.return();case 24:if(u.prev=24,!n){u.next=27;break}throw o;case 27:return u.finish(24);case 28:return u.finish(21);case 29:a.setState({FavoritesData:t});case 30:case"end":return u.stop()}}),null,null,[[4,17,21,29],[22,,24,28]])},a.showFullForecast=function(e){a.state.popUp||a.setState({cityKey:e,popUp:!0})},a.closePopUp=function(){a.setState({cityKey:null,popUp:!1})},a.removeFromFavorites=function(e,t){var r=Object(I.a)(a.state.Favorites);console.log(r),r=r.splice(t,1),console.log(r),a.props.FavoritesStore.rmoveFavorites(e)},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,this.state.FavoritesData?i.a.createElement("div",{className:"FavoritesContainer"},this.state.FavoritesData.map((function(t,a){return i.a.createElement("div",{key:t.cityKey},console.log(t),i.a.createElement("div",{className:"FavoritesData",onClick:function(){return e.showFullForecast(t.cityKey,a)}},i.a.createElement("div",{className:"FavCity"}," ",t.cityName," "),i.a.createElement("img",{class:"FavPic",src:"https://developer.accuweather.com/sites/default/files/".concat(1===t.res[0].WeatherIcon.toString().length?"0"+t.res[0].WeatherIcon:t.res[0].WeatherIcon,"-s.png")}),i.a.createElement("div",{className:"FavPhrase"}," ",t.res[0].WeatherText," "),i.a.createElement("div",{className:"FavTemp"},e.props.isFahrenheit?t.res[0].Temperature.Imperial.Value:Math.floor((parseInt(t.res[0].Temperature.Imperial.Value)-32)/1.8))),i.a.createElement("div",null,i.a.createElement("button",{class:"FavRemove",onClick:function(){return e.removeFromFavorites(t.cityKey,a)}},i.a.createElement("i",{class:"fa fa-trash"})," ")," "))}))," "):null)}}]),t}(o.Component))||j)||j,K=(a(71),function(e){var t=e.handleTemperture,a=e.isFahrenheit;return i.a.createElement("div",{className:"degrees"},i.a.createElement("div",{className:"temperature"},i.a.createElement("button",{className:a?null:"putAnUnderline",onClick:t},"C")," / ",i.a.createElement("button",{className:a?"putAnUnderline":null,onClick:t},"F")," "))}),A=Object(f.c)(C=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(n)))).state={},a.UNSAFE_componentWillMount=function(){"geolocation"in navigator&&a.watchID(),a.setLightMode()},a.setLightMode=function(){var e=(new Date).getHours();e>6&&e<16||a.setState({darkMode:!0})},a.darkMode=function(){a.setState((function(e){return{darkMode:!e.darkMode}}))},a.watchID=function(){navigator.geolocation.watchPosition(a.geo_success,a.geo_error,{enableHighAccuracy:!0,maximumAge:3e4,timeout:27e3})},a.geo_success=function(e){var t=e.coords;console.log(t.latitude,t.longitude),a.setState({currentLocation:{latitude:t.latitude,longitude:t.longitude}})},a.geo_error=function(e){alert("ERROR("+e.code+"): "+e.message)},a.handleTemperture=function(){a.setState((function(e){return{isFahrenheit:!e.isFahrenheit}}))},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:this.state.darkMode?"darkMode":null},i.a.createElement(p.a,null,i.a.createElement(g,{darkMode:this.darkMode}),i.a.createElement(K,{handleTemperture:this.handleTemperture,isFahrenheit:this.state.isFahrenheit}),i.a.createElement(d.a,{path:"/",exact:!0,render:function(){return i.a.createElement(D,{isFahrenheit:e.state.isFahrenheit})}}),i.a.createElement(d.a,{path:"/Favorites",render:function(){return i.a.createElement(M,{isFahrenheit:e.state.isFahrenheit})}})))}}]),t}(o.Component))||C;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T,L,P,z,J,W=a(21),U=a(17),V=(a(72),T=function(){function e(){Object(l.a)(this,e),Object(W.a)(this,"favorites",L,this),Object(W.a)(this,"addFavorite",P,this),Object(W.a)(this,"rmoveFavorites",z,this),Object(W.a)(this,"isFavorites",J,this)}return Object(u.a)(e,[{key:"getAllFavorites",get:function(){if(localStorage.getItem("favorites")){var e=JSON.parse(localStorage.getItem("favorites"));return this.favorites=e,console.log(e),e}}}]),e}(),L=Object(U.a)(T.prototype,"favorites",[x.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(U.a)(T.prototype,"getAllFavorites",[x.e],Object.getOwnPropertyDescriptor(T.prototype,"getAllFavorites"),T.prototype),P=Object(U.a)(T.prototype,"addFavorite",[x.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var a;return b.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e.favorites.push(t),console.log(e.favorites,t),console.log(t),a=localStorage.getItem("favorites")?JSON.parse(localStorage.getItem("favorites")):[],r.next=6,b.a.awrap(a.push(t));case 6:console.log(a),localStorage.setItem("favorites",JSON.stringify(a));case 8:case"end":return r.stop()}}))}}}),z=Object(U.a)(T.prototype,"rmoveFavorites",[x.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var a=e.favorites.filter((function(e){return e.key!==t}));e.favorites=a;for(var r=JSON.parse(localStorage.getItem("favorites")),n=0;n<r.length;n++){r[n].cityKey===t&&r.splice(n,1)}r=JSON.stringify(r),localStorage.setItem("favorites",r)}}}),J=Object(U.a)(T.prototype,"isFavorites",[x.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var a,r;if(localStorage.getItem("favorites"))for(var n=JSON.parse(localStorage.getItem("favorites")),o=0;o<n.length;o++){n[o].cityKey===t?(a=!0,r=n):a=!1}else a=!1;return a?e.favorites=r:a=0!==(a=e.favorites.filter((function(e){return e.key===t}))).length,a}}}),T),H=(a(73),{FavoritesStore:new V});s.a.render(i.a.createElement(f.a,H,i.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[41,1,2]]]);
//# sourceMappingURL=main.e34c91ee.chunk.js.map